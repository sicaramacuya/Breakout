(()=>{"use strict";const t=class{constructor(t=0,s=0,i=100,e=100,h="#f00"){this.x=t,this.y=s,this.width=i,this.height=e,this.color=h}render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}},s=class extends t{constructor(t=0,s=0,i=75,e=20,h="#0095DD"){super(t,s,i,e,h),this.status=!0}},i=document.getElementById("myCanvas"),e=i.getContext("2d"),h=new class extends t{constructor(t=0,s=0,i=75,e=20,h=["LightGreen","Coral","Crimson","DeepSkyBlue","Gold"],r=3,o=5,n=10,d=30,c=30){super(t,s,i,e,h),this.rows=r,this.columns=o,this.padding=n,this.offSetTop=d,this.offSetLeft=c,this.bricks=this.generateBricks()}generateBricks(){const t=[];for(let i=0;i<this.columns;i+=1){t[i]=[];for(let e=0;e<this.rows;e+=1)t[i][e]=new s}return t}render(t){for(let s=0;s<this.columns;s+=1)for(let i=0;i<this.rows;i+=1)if(!0===this.bricks[s][i].status){const e=s*(this.width+this.padding)+this.offSetLeft,h=i*(this.height+this.padding)+this.offSetTop;this.bricks[s][i].x=e,this.bricks[s][i].y=h,t.beginPath(),t.rect(e,h,this.width,this.height),t.fillStyle=this.color[s],t.fill(),t.closePath()}}},r=new class extends s{constructor(t=0,s=0,i=75,e=10,h="#0095DD"){super(t,s,i,e,h)}},o=new class extends t{constructor(t=0,s=0,i=10,e="Red"){super(t,s,0,0,e),this.radius=i,this.dx=2,this.dy=-2}move(){this.x+=this.dx,this.y+=this.dy}calculateNextPosition(t,s,i,e,h){let r=i;return(this.x+this.dx>t.width-this.radius||this.x+this.dx<this.radius)&&(this.dx*=-1),this.y+this.dy<this.radius?this.dy*=-1:this.y+this.dy>t.height-this.radius&&(this.x>s.x&&this.x<s.x+s.width?this.dy*=-1:(r-=1,r?(this.x=t.width/2,this.y=t.height-30,this.dx=3,this.dy=-3,s.x=(t.width-s.width)/2):(alert("GAME OVER"),document.location.reload()))),e?(s.x+=7,s.x+s.width>t.width&&(s.x=t.width-s.width)):h&&(s.x-=7,s.x<0&&(s.x=0)),r}render(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}}(i.width/2,i.height-30),n=new class extends t{constructor(t,s,i,e=0,h=0){super(e,h,t,s,i)}}(i.width,i.height,"aqua"),d=new class extends t{constructor(t=0,s=8,i=20,e="#0095DD",h="16px Arial"){super(s,i),this.score=t,this.color=e,this.font=h}update(t){this.score+=t}render(t){t.font=this.font,t.fillStyle=this.color,t.fillText(`Score: ${this.score}`,this.x,this.y)}},c=new class extends t{constructor(t,s=20,i=3,e="#0095DD",h="16px Arial"){super(t,s,0,0,e),this.count=i,this.font=h}upatedLife(t){this.count=t}render(t){t.font=this.font,t.fillStyle=this.color,t.fillText(`Lives: ${this.count}`,this.x,this.y)}}(i.width-65);let l,u=!1,a=!1;document.addEventListener("keydown",(function(t){"Right"===t.key||"ArrowRight"===t.key?u=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(a=!0)}),!1),document.addEventListener("keyup",(function(t){"Right"===t.key||"ArrowRight"===t.key?u=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(a=!1)}),!1),document.addEventListener("mousemove",(function(t){const s=t.clientX-i.offsetLeft;s>0&&s<i.width&&(r.x=s-r.width/2)}),!1),function t(){e.clearRect(0,0,i.width,i.height),n.render(e),h.render(e),o.render(e),r.y=i.height-r.height,r.render(e),d.render(e),c.render(e),function(){for(let t=0;t<h.columns;t+=1)for(let s=0;s<h.rows;s+=1){const i=h.bricks[t][s];!0===i.status&&o.x>i.x&&o.x<i.x+i.width&&o.y>i.y&&o.y<i.y+i.height&&(o.dy*=-1,i.status=!1,d.update(1),d===h.rows*h.columns&&(alert("YOU WIN, CONGRATULATIONS!"),document.location.reload()))}}(),l=o.calculateNextPosition(i,r,c.count,u,a),c.upatedLife(l),o.move(),requestAnimationFrame(t)}()})();